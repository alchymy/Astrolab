<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<title>Impact Cratering  - Crater Size ------------ [cCalc003Crater]</title>

<!-- Load common environment -->
<script src="../../fJscriptLib/jquery.js"></script>
<script src="../../fJscriptLib/jquery-ui/jquery-ui.js"></script>

<link rel="stylesheet" href="../../fJscriptLib/jquery-ui/css/redmond/jquery-ui.css" type="text/css" />
<link rel="stylesheet" href="../../fCss/fDefault.css" type="text/css" />

<script src="../../fEnvironment.js"></script>

<!-- End of common environment -->

<!-- Above is Standard Header For All Application Pages -->

<!-- Page Specific environment -->


<script>
<!--

/*
Short program to evaluate the scaling equations to determine
the diameter of a transient crater given details on the nature
of the projectile, conditions of impact, and state of the
target.  The diameter is evaluated by three independent methods,
yield scaling, pi-scaling and Gault's semi-empirical relations
supplemented by rules on how crater size depends on gravity and
angle of impact.

Updated Nov. 1997 to compute projectile size from a given
transient crater diameter.  Projectile and crater diameter
computation functions merged into a single program April 1998.
See Melosh, Impact Cratering, chapter 7 for more details

Updated Oct. 1999 to take final crater diameters as well as 
transient crater diameters into account.

Copyright 1996, 1997 and 1998 by H. J. Melosh, adapted with authors
permission.
*/

// define all Global variables

var Ct = 0;                    // Formation time coefficient
var craterDiam = 0;            // Crater diameter in km
var dStd = 0;                  // craterDiam divided by anglefac
var L = 0;                     // Projectile diameter in m
var projectileDensity = 0;     // Projectile density kg m3
var v = 0;                     // Projectile velocity km s
var theta = 0;                 // Impact angle in degrees
var targetDensity = 0;         // Target density kg m3
var g = 0;                     // gravity acceleration m s2
var projectileKE = 0;          // projectile Kinetic Energy


var pi = 3.1415926535898;     // use Pi from cConstantsObj.js library of constants
var third = 1/3;
var pitwo = 0;      // inverse froude number
var pifac = 0;      // inverse froude length number


// constants for the Schmidt-Holsapple pi scaling and gravity conversion factors

var Cd = [1.88,1.54,1.6]; // array's in recomended format

var beta = [0.22,0.165,0.22];

var gEarth = 9.80665;        // gravity acceleration earth
var gmoon = 1.67;        // gravity acceleration moon
var m = 0;               // projectile mass
var dscale = 0;          // scale for crater diameter
var anglefac = 0;        // impact angle factor
var densfac = 0;         // density factor

var rhomoon = 2700;      // density moon
var Dstarmoon = 1.8e4;   //
var Dstar = 0;           // transition crater
var Dsimple = 0;         //
var Dpr = 0;             // peak ring crater diameter
var Dprmoon = 1.4e5;     //
var Dfinal = 0;          // crater type transient (0) or final (1)
var Dpiscale = 0;        // piscale result
var Dyield = 0;          // yield scaling result
var Dgault = 0;          // gault scaling result
var gsmall = 0;          // gault scale calc
var Tform = 0;           // crater formation time
var Lpiscale = 0;        // piscale result
var Lyield = 0;          // yield scale result
var Lgault = 0;          // gault scaling result
// var ans not used can be re run on web page
var cratertype = "";     // crater type description
var targtype = 0;        // target type 0, 1, 2
// var comptype not used - separated calculations
var ejectaSpread = 0;



function main() {

// get input parameters

    L = document.inputDataView1.input4.value;   
    v = document.inputDataView1.input5.value;  
    targetDensity = document.inputDataView1.input6.value; 
    projectileDensity = document.inputDataView1.input10.value; 
    theta = document.inputDataView1.input11.value;  
    g = document.inputDataView1.input12.value;  
    effectRadius = document.inputDataView1.input14.value;
    decPlaces = document.inputDataView1.input16.value;
    targtype = document.inputDataView1.input18.value;  
    
  
    
//if targtype < 1 etc
 
//     convert units to SI and compute some auxiliary quantites

    v = 1000 * v;                        // km sec to m sec
    craterDiam = 1000 * craterDiam;      // km to m
    Dfinal = 1000 * Dfinal;              // km to m
    theta = theta * (pi / 180);          // degrees to radians
	anglefac = Math.pow(Math.sin(theta),third);      //impact angle factor
    densfac = Math.pow(projectileDensity,0.16667) / Math.sqrt(targetDensity);
    pifac = (1.61 * g)  /  (v * v);      // inverse froude length factor
    Ct = 0.80;                           // coefficient for formation time

    if(targtype == 1) {
        Ct = 1.3;
    }
    
	  Dstar = (gmoon * rhomoon * Dstarmoon) / (g * targetDensity);  // transition crater diameter
	  Dpr = (gmoon * rhomoon * Dprmoon  ) / (g * targetDensity) ;   // peak-ring crater Diameter


//***********************************************************************

//         computation for specified projectile diameter

//***********************************************************************

    m = (pi / 6) * projectileDensity * L * L * L;          //projectile mass
    
// Projectile Kinetic Energy prior to entry into Atmosphere - Equation 1*

    projectileKE = 0.5 * m * v * v;                  
      
// Number of near Earth asteroids with Diameter > L - Equation 2*

    nL = 1148 * Math.pow(L / 1000, -2.354);
    
    
    pitwo = pifac * L ;                  //inverse froude number
    dscale = Math.pow((m/targetDensity),third ) ;   //scale for crater diameter


//    Pi Scaling (Schmidt and Holsapple 1987)

    Dpiscale = dscale * Cd[targtype] * Math.pow(pitwo,-beta[targtype]);
    Dpiscale = Dpiscale * anglefac;


//    Yield Scaling (Nordyke 1962) with small correction for depth
//     of projectile penetration

    Dyield = 0.0133 * Math.pow(projectileKE,(1 / 3.4)) + 1.51 * Math.sqrt(projectileDensity / targetDensity) * L;
    Dyield = Dyield * anglefac * Math.pow((gEarth / g),0.165);


//     Gault (1974) Semi-Empirical scaling

    gsmall = 0.25 * densfac * Math.pow(projectileKE,0.29) * anglefac;
        
        
    if(targtype == 2) {
        gsmall = 0.015 * densfac * Math.pow(projectileKE,0.37) * Math.pow(anglefac,2);
    }
        

    if(gsmall < 100) {
        Dgault = gsmall;
    } else {
        Dgault = 0.27 * densfac * Math.pow(projectileKE,0.28) * anglefac;
    }
       
    Dgault = Dgault * Math.pow((gmoon / g),0.165);

//    Compute crater formation time from Schmidt and Housen

    Tform = (Ct * L / v) * Math.pow(pitwo,-0.61);

//     Compute final crater type and diameter from pi-scaled transient dia.

    Dsimple = 1.56 * Dpiscale;
     
    if (Dsimple < Dstar) {
	      Dfinal = Dsimple;
	      cratertype = "Simple";
	  } else {
        Dfinal = Math.pow(Dsimple,1.18) / Math.pow(Dstar,0.18);
	      cratertype = "Complex";
	  }
		

	  if(Dsimple < Dstar * 1.4 && Dsimple > Dstar * 0.71) {
        cratertype = "Simple/Complex";
    }
         
	  if(Dfinal > Dpr) {
	      cratertype = "Peak-ring";
    }

// continEjectaBlanket Dfinal + Dfinal

    continEjectaBlanket = Dfinal + Dfinal;

// Calculate ejecta spread at 2.15 x final crater diameter

    ejectaSpread = Dfinal  * 2.15;  

    
// Calculate impactor volume from diameter assuming spherical

    r = L / 2;

    impactorVolume = (4/3) * pi * Math.pow(r,3);

// Calculate impactor mass from density and volume

    impactorMass = impactorVolume * projectileDensity;

// Calculate Seismic magnitude at impact site - Equation 40*

//     M = 0.67 *  (Math.log(projectileKE) / Math.LN10) - 5.87;
   
 //   M = 0.67 * Math.antilog(projectileKE) - 5.87;
 
 M = 0.67 * Math.log10(projectileKE) - 5.87;

// Calculate Seismic effect at radius r km from impact
    mEff = M - 0.0238 * effectRadius;
 

// function outPutResults() {

// Output Results grid on outputResultView1

    var outputResult1 = new Number(impactorVolume);
    document.outputResultView1.result1.value = outputResult1.toExponential(decPlaces);

//  document.outputResultView1.result2.value = ;

    document.outputResultView1.result3.value = cratertype;

    var outputResult4 = new Number(impactorMass);
    document.outputResultView1.result4.value = outputResult4.toExponential(decPlaces);

    var outputResult5 = new Number(Dyield);
    document.outputResultView1.result5.value = outputResult5.toExponential(decPlaces);

    var outputResult6 = new Number(continEjectaBlanket);
    document.outputResultView1.result6.value = outputResult6.toExponential(decPlaces)

    var outputResult7 = new Number(projectileKE);
    document.outputResultView1.result7.value = outputResult7.toExponential(decPlaces);
    
    var outputResult8 = new Number(Dpiscale);
    document.outputResultView1.result8.value = outputResult8.toExponential(decPlaces);
    
    var outputResult9 = new Number(ejectaSpread);
    document.outputResultView1.result9.value = outputResult9.toExponential(decPlaces);

    var outputResult10 = new Number(projectileKE * 2.387665e-16);
    document.outputResultView1.result10.value = outputResult10.toExponential(decPlaces);


    var outputResult11 = new Number(Dgault);
    document.outputResultView1.result11.value = outputResult11.toExponential(decPlaces);

    var outputResult12 = new Number(M);
    document.outputResultView1.result12.value = outputResult12.toExponential(decPlaces);

    var outputResult13 = new Number(nL);
    document.outputResultView1.result13.value = outputResult13.toExponential(decPlaces);

    var outputResult15 = new Number(mEff);
    document.outputResultView1.result15.value = outputResult15.toExponential(decPlaces);
    
    var outputResult17 = new Number(Dfinal);
    document.outputResultView1.result17.value = outputResult17.toExponential(decPlaces);

//  document.outputResultView1.result19.value = ;

    var outputResult20 = new Number(Tform);
    document.outputResultView1.result20.value = outputResult20.toExponential(decPlaces);
 
//  document.outputResultView1.result21.value = ;
//  document.outputResultView1.result22.value = ;
//  document.outputResultView1.result23.value = ;
//  document.outputResultView1.result24.value = ;

}


function openDiagWindow() {

// used to display values at various stages of calculation for verification
// that formulas are translated correctly, using electronic calculator

    diagWindow = window.open("","Diagnostics -","toolbar=no, location=no, directories=no, status=no,menubar=no, scrollbars=no, resizable=no, copyhistory=yes, width=350, height=350");
  
 //   diagWindow = window.open();
    diagWindow.document.open();
    diagWindow.document.write("<title>Diagnostics</title>");
    diagWindow.document.write("<pre>Diagnostic Window  :<p/>");
    diagWindow.document.write("projectileDensity = ",projectileDensity,"<br/>");
    diagWindow.document.write("targetDensity     = ",targetDensity,"<br/>");
    diagWindow.document.write("L                 = ",L,"<br/>");
    diagWindow.document.write("v                 = ",v,"<br/>");
    diagWindow.document.write("theta             = ",theta,"<br/>");
    diagWindow.document.write("anglefac          = ",anglefac,"<br/>");
    diagWindow.document.write("densfac           = ",densfac,"<br/>");
    diagWindow.document.write("pifac             = ",pifac,"<br/>");
    diagWindow.document.write("Ct                = ",Ct,"<br/>");
    diagWindow.document.write("Dstar             = ",Dstar,"<br/>");
    diagWindow.document.write("Dpr               = ",Dpr,"<br/>");
    diagWindow.document.write("M                 = ",M,"<br/>");
    diagWindow.document.write("m                 = ",m,"<br/>");
    diagWindow.document.write("projectileKE      = ",projectileKE,"<br/>");
    diagWindow.document.write("pitwo             = ",pitwo,"<br/>");
    diagWindow.document.write("dscale            = ",dscale,"<br/>");
    diagWindow.document.write("gsmall            = ",gsmall,"<br/>");
    diagWindow.document.write("cratertype        = ",cratertype,"<br/>");
    diagWindow.document.write("</pre>");
    diagWindow.focus();

}

function openCopyResultWindow() {

// formatted result list window for copy and paste to other applications


   resultWindow = window.open("","Copy Results","toolbar=no, location=no, directories=no, status=no,menubar=no, scrollbars=no, resizable=no, copyhistory=yes, width=300, height=220");

 //   resultWindow = window.open();
    resultWindow.document.open();
    resultWindow.document.write("<title>Results</title>");
    resultWindow.document.write("<pre>Result Window for Copy / Paste  :<p/>");
    resultWindow.document.write("projectile diameter = ",L,"<br/>");
    resultWindow.document.write("density projectile  = ",projectileDensity,"<br/>");
    resultWindow.document.write("projectile velocity = ",v,"<br/>");
    resultWindow.document.write("impact angle        = ",theta,"<br/>");
    resultWindow.document.write("density target      = ",targetDensity,"<br/>");
    resultWindow.document.write("m                   = ",m,"<br/>");
    resultWindow.document.write("projectileKE                   = ",projectileKE,"<br/>");
    resultWindow.document.write("pitwo               = ",pitwo,"<br/>");
    resultWindow.document.write("dscale              = ",dscale,"<br/>");
    resultWindow.document.write("gsmall              = ",gsmall,"<br/>");
    resultWindow.document.write("cratertype          = ",cratertype,"<br/>");
    resultWindow.document.write("</pre>");
    resultWindow.focus();


}

function openGraphic() {

// display graphic example

    window.open("cImageWin001.html","Graphic -","toolbar=no, location=no, directories=no, status=no,menubar=no, scrollbars=no, resizable=no, copyhistory=yes, width=500, height=582");
}

function openInfo() {

    window.open("cCalc003CraterInfo.html","Help -","toolbar=no, location=no, directories=no, status=no,menubar=no, scrollbars=no, resizable=no, copyhistory=yes, width=500, height=582");
}

function examples(n) {

    if (n == 1) {
    document.inputDataView1.input4.value = 40;
    document.inputDataView1.input5.value = 20;
    document.inputDataView1.input6.value = 2500;
    document.inputDataView1.input10.value = 8000;
    document.inputDataView1.input11.value = 45;
    document.inputDataView1.input12.value = 9.18;
    document.inputDataView1.input14.value = 10;
    document.inputDataView1.input18.value = 2;
    }
    
    if (n == 2) {
    document.inputDataView1.input4.value = 60;
    document.inputDataView1.input5.value = 20;
    document.inputDataView1.input6.value = 2500;
    document.inputDataView1.input10.value = 2700;
    document.inputDataView1.input11.value = 45;
    document.inputDataView1.input12.value = 9.18;
    document.inputDataView1.input14.value = 10;
    document.inputDataView1.input18.value = 2;
    }

    if (n == 3) {
    document.inputDataView1.input4.value = 60;
    document.inputDataView1.input5.value = 20;
    document.inputDataView1.input6.value = 2750;
    document.inputDataView1.input10.value = 2700;
    document.inputDataView1.input11.value = 45;
    document.inputDataView1.input12.value = 9.18;
    document.inputDataView1.input14.value = 10;
    document.inputDataView1.input18.value = 2;
    }

    if (n == 4) {
    document.inputDataView1.input4.value = 60;
    document.inputDataView1.input5.value = 20;
    document.inputDataView1.input6.value = 2500;
    document.inputDataView1.input10.value = 2700;
    document.inputDataView1.input11.value = 45;
    document.inputDataView1.input12.value = 9.18;
    document.inputDataView1.input14.value = 10;
    document.inputDataView1.input18.value = 2;
    }

    if (n == 5) {
    document.inputDataView1.input4.value = 60;
    document.inputDataView1.input5.value = 20;
    document.inputDataView1.input6.value = 2700;
    document.inputDataView1.input10.value = 2700;
    document.inputDataView1.input11.value = 45;
    document.inputDataView1.input12.value = 9.18;
    document.inputDataView1.input14.value = 10;
    document.inputDataView1.input18.value = 2;
    }
}

// -->
</script>


</head>

<body>


<!-- sections standard indent is 2 or 4 spaces where possible for readability, one line between sections -->

<!-- **************** Header **************** -->
<header>
<table class="HeaderLive">
  <tr>
    <td style="width:60%">Impact Cratering  - Crater Size</td>
    <td style="width:40%" id="menuCell">
          <nav>
      <button class="mnubutton2" type="button" onClick="location.href='../../mMain.html'" >mMain</button>
      </nav>
    </td>
  </tr>
</table>
<br/>
</header>

<!-- **************** Content **************** -->
<div class="Content">

<!-- Tabs -->

<div id="tabs">
	<ul>
		<li><a href="#tabs-1">Calculation</a></li>
		<li><a href="#tabs-2">User Guide</a></li>
		<li><a href='#tabs-3'>Original Fortran Source</a></li>
        <li><a href="#tabs-4">Credits</a></li>
	</ul>
    
<div id="tabs-1">

<table class="CalcTable1">
    <tr>
      <td><br/>
        Parameters description
        <input type="button" value="Crater Examples" onclick="javascript:openGraphic()" />
        <input type="button" value="Crater Info." onclick="javascript:openInfo()" />
        <br/>
        <br/>
        <input type="button" title="Diameter 40m, Density 8000 kg m^3" value="Meteor Crater USA" onclick="javascript:examples(1)" />
        <input type="button" title="Diameter 40m, Density 8000 kg m^3" value="Tunguska Fireball, Siberia 1908" onclick="javascript:examples(2)" />
        <input type="button" title="Diameter 40m, Density 8000 kg m^3" value="Ries Crater Germany" onclick="javascript:examples(3)" />
        <input type="button" title="Diameter 40m, Density 8000 kg m^3" value="Chesapeake Bay USA" onclick="javascript:examples(4)" />&nbsp;  
        <input type="button" title="Diameter 40m, Density 8000 kg m^3" value="Chicxulub, Mexico" onclick="javascript:examples(5)" />       
        </td>
    </tr>
</table>

<!--
ID vs. Name in Form Fields
When creating a form and form field, you should give them both an id and a name and make them the same, e.g. 

<form id="form1" name="form1">
<input type="text" id="form1Field1" name="form1Field1" />
<input type="text" id="form1Field2" name="form1Field2" />
</form>

This is because browsers use the name field when they submit to a server, but when working with JavaScript it's best to use id (and the associated document.getElementById()) to identify elements. You could use something like document.getElementsByName(), but it is a lot harder to work with, because names aren't guaranteed to be unique and thus that function returns a collection of elements, not just one. 
You should also always name your name and id the same thing (and not reuse that identifier anywhere else), 
because of IE's poor implementation of getElementById() which can sometimes return an element whose "name" matches the "id"
you asked for. 

Always use both, make them the same string, and make that string unique in the document. 
XHTML spec [1] says that name is deprecated for id, and that eventually name will go away completely.  
The spec also recommends using both the name and the id attributes, set identically, for forwards and backwards compatibility.
-->

<form action="cCalc003Crater.html" name="inputDataView1" id="inputDataView1">
<b>Input Parameters:

</b>

<br/>
&nbsp;
  <table class="CalcTable1">
    <tr>
      <th>Projectile Descriptors</th>
      <th>&nbsp;</th>
      <th>units</th>
      <th>Target Descriptors</th>
      <th>&nbsp;</th>
      <th>units</th>
    </tr>
    <tr>
      <td title="projectile diameter km">&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>
        <select name="targetDensity_sel" onchange="document.inputDataView1.input6.value = this.options[this.selectedIndex].value">
        <option value="-1">Selectable values</option>
        <option value="1000">1000 kg m^3 for ice</option>
        <option value="1500">1500 kg m^3 for porous rock</option>
        <option value="2500">2500 kg m^3 for sedimentary rock</option>
        <option value="2750">2750 kg m^3 for crystalline rock</option>
        <option value="8000">8000 kg m^3 for iron</option>
        </select>
      </td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td title="projectile diameter km">projectile diameter</td>
      <td><input type="text" title="projectile diameter m" name="input4" id="input4" size="12" value="" /></td>
      <td>m</td>
      <td title="target density kg m^3">target density</td>
      <td>
        <input type="text" name="input6" id="input6" size="12" value="" /></td>
      <td>kg m<sup>-3</sup></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>
        <select name="projectileDensity_sel0" onchange="document.inputDataView1.input10.value = this.options[this.selectedIndex].value">
        <option value="-1">Selectable values</option>
        <option value="1000">1000 kg/m^3 for ice</option>
        <option value="1500">1500 kg/m^3 for porous rock</option>
        <option value="2500">2500 kg/m^3 for sedimentary rock</option>
        <option value="2750">2750 kg/m^3 for crystalline rock</option>
        <option value="8000">8000 kg/m^3 for iron</option>
        </select>
      </td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>
        <select name="g_sel" onchange="document.inputDataView1.input12.value = this.options[this.selectedIndex].value">
        <option value="-1">Selectable values</option>
        <option value="3.7">3.7 m/sec^2 for Mercury</option>
        <option value="8.9">8.9 m/sec^2 for Venus</option>
        <option value="9.8">9.8 m/sec^2 for Earth</option>
        <option value="1.6">1.6 m/sec^2 for the Moon</option>
        <option value="3.7">3.7 m/sec^2 for Mars</option>
        <option value="1.8">1.8 m/sec^2 for Io</option>
        <option value="1.3">1.3 m/sec^2 for Europa</option>
        <option value="1.4">1.4 m/sec^2 for Ganymede</option>
        <option value="1.2">1.2 m/sec for Callisto</option>
        <option value="1.4">1.4 m/sec for Titan</option>
        </select></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td title="projectile density kg m^3">projectile density</td>
      <td><input type="text" name="input10" id="input10" size="12" value="" /></td>
      <td>kg m<sup>-3</sup></td>
      <td title="acceleration m s^2">g acceleration</td>
      <td>
        <input type="text" name="input12" id="input12" size="12" value="" /></td>
      <td>m s<sup>-2</sup></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>
        <select name="t_type" onchange="document.inputDataView1.input18.value = this.options[this.selectedIndex].value">
          <option value="-1">Selectable values</option>
          <option value="0">liquid water</option>
          <option value="1">loose sand</option>
          <option value="2">competent rock or saturated soil</option>
        </select></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td title="default number of decimal places for results reported">default decimal places</td>
      <td>
      <input type="text" name="input16" id="input16" size="12" value="2" /></td>
      <td>&nbsp;</td>
      <td title="target type">target type 0, 1, 2</td>
      <td>
        <input type="text" name="input18" id="input18" size="12" value="" /></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><select name="v_sel0" onchange="document.inputDataView1.input5.value = this.options[this.selectedIndex].value">
        <option value="-1">Selectable values</option>
        <option value="17">17 km s Earth and Moon asteroidal impacts</option>
        <option value="50">50 km s Earth and Moon cometary impacts</option>
        <option value="72">72 km s retrograde impactors at Earth (Leonids)</option>
        <option value="7">7 km s Martian asteroidal impacts</option>
        <option value="45">45 km s Martian cometary impacts</option>
        <option value="5">5 km s typical asteroid belt impact</option>
        </select></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>projectile velocity</td>
      <td><input type="text" name="input5" id="input5" size="12" value="" /></td>
      <td>km s<sup>-1</sup></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>impact angle</td>
      <td><input type="text" name="input11" id="input11" size="12" value="" /></td>
      <td>deg</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>effect at distance from impact</td>
      <td><input type="text" name="input14" id="input14" size="12" value="" /></td>
      <td>km</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td colspan="6"><input type="button" value="Calculate" onclick="main();" />
                <input type="reset" value=" Click here to clear input values " />
      </td>
    </tr>
  </table>
</form>

<hr/>

<form action="cCalc003Crater.html" name="outputResultView1" id="outputResultView1">
<b>Output Results:
  </b>
  <br/>
&nbsp;
  <table class="CalcTable1">
    <tr>
      <th>Impactor Results</th>
      <th>&nbsp;</th>
      <th>units</th>
      <th>Crater Results</th>
      <th>&nbsp;</th>
      <th>units</th>
      <th>Crater Results </th>
      <th>&nbsp;</th>
      <th>units</th>
    </tr>
    <tr>
      <td title="impactor volume">Impactor Volume</td>
      <td>
        <input type="text" name="result1" id="result1" size="12" />      </td>
      <td>m3</td>
      <td><u><b>Transient Crater Diameter</b></u></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td title="crater type">Crater type</td>
      <td>
        <input type="text" name="result3" id="result3" size="12" /></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td title="impactor mass">Impactor Mass</td>
      <td>
        <input type="text" name="result4" id="result4" size="12" />      </td>
      <td>kg</td>
      <td title="yield scaling result">Yield Scaling</td>
      <td>
        <input type="text" name="result5" id="result5" size="12" />      </td>
      <td>m</td>
      <td title="ejecta blanket">Continous Ejecta Blanket </td>
      <td>
        <input type="text" name="result6" id="result6" size="12" /></td>
      <td>m</td>
    </tr>
    <tr>
      <td title="yield energy joules">Yield Energy </td>
      <td>
        <input type="text" name="result7" id="result7" size="12" /></td>
      <td>Joules</td>
      <td title="pi scaling result">Pi Scaling</td>
      <td>
        <input type="text" name="result8" id="result8" size="12" /></td>
      <td>m</td>
      <td title="ejecta spread">Ejecta Spread </td>
      <td>
	    <input type="text" name="result9" id="result9" size="12" />
	  </td>
      <td>m</td>
    </tr>
    <tr>
      <td title="yield energy megatons">Yield Energy</td>
      <td>
        <input type="text" name="result10" id="result10" size="12" /></td>
      <td>MegaTons</td>
      <td title="Gault Scaling Result">Gault Scaling</td>
      <td>
        <input type="text" name="result11" id="result11" size="12" /></td>
      <td>m</td>
      <td title="magnitude on the Richter scale">Richter Scale Magnitude</td>
      <td><input type="text" name="result12" id="result12" size="12" /></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td title="no of near earth asteroids larger">Near Earth asteroids larger</td>
      <td>
        <input type="text" name="result13" id="result13" size="12" /></td>
      <td>&nbsp;</td>
      <td><u><b>Final</b></u></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td title="effective magnitude">Effective Magnitude</td>
      <td>
      <input type="text" name="result15" id="result15" size="12" /></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td title="rim to rim diameter">Final Rim to Rim diameter</td>
      <td>
        <input type="text" name="result17" id="result17" size="12" /></td>
      <td>m</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td title="formation time">Crater Formation Time</td>
      <td>
        <input type="text" name="result20" id="result20" size="12" /></td>
      <td>s</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td colspan="9">
        <input type="reset" value=" Click here to clear result values " />      </td>
    </tr>
  </table>
</form>

<input type="button" value="Diag" onclick="openDiagWindow()" />
<input type="button" value="Copy / Paste Results" onclick="openCopyResultWindow();" />
<br/>

</div>

<div id="tabs-2">


    <p>Short program to evaluate the scaling equations to determine the diameter of a transient crater given details on the nature of the projectile, conditions of impact, and state of the target. </p>
    <p>The diameter is evaluated by three independent methods, yield scaling, pi-scaling and Gault's semi-empirical relations supplemented by rules on how crater size depends on gravity and angle of impact.<br/>
		Updated Nov. 1997 to compute projectile size from a given
transient crater diameter.  Projectile and crater diameter
computation functions merged into a single program April 1998.
See Melosh, Impact Cratering, chapter 7 for more details

Updated Oct. 1999 to take final crater diameters as well as 
transient crater diameters into account.

Copyright 1996, 1997 and 1998 by H. J. Melosh, adapted with authors
permission.<br />
        <br />

Taking the Measure of Impact Craters on Mercury - information from the Mercury Messenger project - <a href="http://messenger.jhuapl.edu/soc/highlights070711.php" target="new" title="Impact Craters on Mercury">http://messenger.jhuapl.edu/soc/highlights070711.php</a><br/><br/>
<a href="http://impact.ese.ic.ac.uk/ImpactEffects/" title="Imperial College London" target="_blank">Imperial College Earth Impact Effects Program</a>
    <br/><br/>
<a href="https://www.purdue.edu/impactearth/" title="Purdue University and Imperial College London" target="_blank">Purdue University and Imperial College version of the Calculator (requires Flash player)</a>
    <br/><br/>
    <a href="http://www.lpl.arizona.edu/tekton/crater_c.html" target="_blank">H J Melosh Original Program</a>
    </p>
</div>

<div id="tabs-3">
  <pre>
        program crater
c
c     Short program to evaluate the scaling equations to determine
c     the diameter of a transient crater given details on the nature
c     of the projectile, conditions of impact, and state of the
c     target.  The diameter is evaluated by three independent methods,
c     yield scaling, pi-scaling and Gault's semi-empirical relations
c     supplemented by rules on how crater size depends on gravity and
c     angle of impact.
c
c     Updated Nov. 1997 to compute projectile size from a given
c     transient crater diameter.  Projectile and crater diameter
c     computation functions merged into a single program April 1998.
c     See Melosh, Impact Cratering, chapter 7 for more details
c
c     Updated Oct. 1999 to take final crater diameters as well as 
c     transient crater diameters into account.
c
c     Copyright 1996, 1997 and 1998 by H. J. Melosh
c
      implicit none
      real*4 Cd(3),beta(3),Ct,Dt,Dstd,L,rhoproj,v,theta,rhotarget,g,W
      real*4 pi,third,pitwo,pifac,gearth,gmoon,m,dscale,anglefac,densfac
      real*4 rhomoon,Dstarmoon,Dstar,Dsimple,Dpr,Dprmoon,Dfinal
      real*4 Dpiscale,Dyield,Dgault,gsmall,Tform
      real*4 Lpiscale,Lyield,Lgault
      character ans,cratertype*14
      integer targtype,comptype
      pi=3.14159265
      third=1./3.
c
c    constants for the Schmidt-Holsapple pi scaling and
c    gravity conversion factors
c
      data   Cd/1.88,1.54 ,1.6 /
      data beta/0.22,0.165,0.22/
      data gearth,gmoon/9.8,1.67/
	  data rhomoon,Dstarmoon,Dprmoon/2700.,1.8e4,1.4e5/
c
c***********************************************************************
c
c     get input conditions from the user's keyboard
c
c***********************************************************************
  10  continue
      write(*,999)
      read(*,*) comptype
	  if((comptype.ne.1).and.(comptype.ne.2)) then
	    write(*,1010)
		goto 10
      endif
      if(comptype.eq.2) then
        write(*,1400)
        read(*,*) Dt
		if(Dt.eq.0.0) then
          write(*,1500)
          read(*,*) Dfinal
		endif
      endif
      write(*,1000)
      read(*,*) rhoproj
      if(comptype.eq.1) then
        write(*,2000)
        read(*,*) L
      endif
      write(*,3000)
      read(*,*) v
      write(*,4000)
      read(*,*) theta
      write(*,5000)
      read(*,*) rhotarget
      write(*,6000)
      read(*,*) g
  20  write(*,7000)
      read(*,*) targtype
      if((targtype.lt.1).or.(targtype.gt.3)) then
        write(*,7010)
        goto 20
      endif
c
c     convert units to SI and compute some auxiliary quantites
c
      v=1000.*v                         !km/sec to m/sec
      Dt=1000.*Dt                       !km to m
      Dfinal=1000.*Dfinal               !km to m
      theta=theta*(pi/180.)             !degrees to radians
      anglefac=(sin(theta))**third      !impact angle factor
      densfac=(rhoproj**0.16667)/sqrt(rhotarget)
      pifac=(1.61*g)/v**2               !inverse froude length factor
      Ct=0.80                           !coefficient for formation time
      if(targtype.eq.1) Ct=1.3
	  Dstar=(gmoon*rhomoon*Dstarmoon)/(g*rhotarget) !transition crater
diameter
	  Dpr  =(gmoon*rhomoon*Dprmoon  )/(g*rhotarget) !peak-ring crater
diameter
c
c***********************************************************************
c
c          computation for specified projectile diameter
c
c***********************************************************************
      if(comptype.eq.1) then
        m=(pi/6.)*rhoproj*L**3          !projectile mass
        W=0.5*m*v**2                    !projectile kinetic energy
        pitwo=pifac*L                   !inverse froude number
        dscale=(m/rhotarget)**third     !scale for crater diameter
c
c     Pi Scaling (Schmidt and Holsapple 1987)
c
        Dpiscale=dscale*Cd(targtype)*pitwo**(-beta(targtype))
        Dpiscale=Dpiscale*anglefac
c
c     Yield Scaling (Nordyke 1962) with small correction for depth
c     of projectile penetration
c
        Dyield=0.0133*W**(1/3.4)+1.51*sqrt(rhoproj/rhotarget)*L
        Dyield=Dyield*anglefac*(gearth/g)**0.165
c
c     Gault (1974) Semi-Empirical scaling
c
        gsmall=0.25*densfac*(W**0.29)*anglefac
        if(targtype.eq.3) gsmall=0.015*densfac*(W**0.37)*anglefac**2
        if(gsmall.lt.100.) then
          Dgault=gsmall
        else
          Dgault=0.27*densfac*(W**0.28)*anglefac
       endif
       Dgault=Dgault*(gmoon/g)**0.165
c
c    Compute crater formation time from Schmidt and Housen
c
        Tform=(Ct*L/v)*pitwo**(-0.61)
c
c     Compute final crater type and diameter from pi-scaled transient dia.
c
        Dsimple=1.56*Dpiscale
		if (Dsimple.lt.Dstar) then
		  Dfinal=Dsimple
		  cratertype='Simple'
		else
		  Dfinal=(Dsimple**1.18)/(Dstar**0.18)
		  cratertype='Complex'
		endif
		if((Dsimple.lt.Dstar*1.4).and.(Dsimple.gt.Dstar*0.71))
     &     cratertype='Simple/Complex'
	    if(Dfinal.gt.Dpr) cratertype='Peak-ring'
c
c    Print out results
c
        write(*,8000) Dyield,Dpiscale,Dgault,Tform
        write(*,8100) Dfinal/1000.,cratertype
c
c***********************************************************************
c
c        computation for specified crater diameter
c
c***********************************************************************
      elseif(comptype.eq.2) then
c
c     convert input crater rim-to-rim diameter to transient crater dia.
c
        if(Dt.eq.0.) then
          if(Dfinal.lt.Dstar) then
		    Dt=0.64*Dfinal
		  else
		    Dt=0.64*(Dfinal*Dstar**0.18)**0.8475
		  endif
		endif
        dscale=((6.*rhotarget)/(pi*rhoproj))**third
c
c     Pi Scaling (Schmidt and Holsapple 1987)
c
        Dstd=Dt/anglefac
        Lpiscale=(Dstd*dscale*pifac**beta(targtype))/Cd(targtype)
        Lpiscale=Lpiscale**(1./(1.-beta(targtype)))
c
c     Yield Scaling (Nordyke 1962) without correction for projectile
c     penetration depth.
c
        Dstd=(Dt*(g/gearth)**0.165)/anglefac
        W=(Dstd/0.0133)**3.4
        Lyield=((12.*W)/(pi*rhoproj*v**2))**third
c
c     Gault (1974) Semi-Empirical scaling
c
        Dstd=Dt*(g/gmoon)**0.165
        if((Dstd.le.10.).and.(targtype.eq.3)) then
          W=((Dstd/0.015)/(densfac*anglefac**2))**2.70
        elseif(Dstd.lt.300.) then
          W=((Dstd/0.25)/(densfac*anglefac))**3.45
        else
          W=((Dstd/0.27)/(densfac*anglefac))**3.57
        endif
        Lgault=((12.*W)/(pi*rhoproj*v**2))**third
c
c    Compute crater formation time for Pi-scaled diameter
c
        Tform=(Ct*Lpiscale/v)*(pifac*Lpiscale)**(-0.61)
c
c    Print out results
c
        write(*,8500) Lyield,Lpiscale,Lgault,Tform
      else
        write(*,9500) comptype     !user should never get here
      endif
c
c***********************************************************************
c
c     Check to see if user wants to quit
c
c***********************************************************************
      write(*,9000)
      read(*,*) ans
      if((ans.eq.'Y').or.(ans.eq.'y')) goto 10
      stop
c
  999 format(/
     &'            *** IMPACT SIZE ***'//
     &'This is a program to estimate the size of a gravity-'/
     &'dominated impact crater or the projectile that made it.'/
     &'Three different estimates are presented, but the '/
     &'pi-scaling method is currently considered the best!'//
     &'   enter the type of computation desired (1 or 2):'/
     &'      type 1, crater size'/
     &'      type 2, projectile size....................... ',$)
 1010 format(/
     &'   entry error!  computation type must be 1 or 2.  Try again!')
 1400 format(/
     &'Crater descriptor:'//
     &'  enter the transient crater diameter in km'/
	 &'  (if the final, not the transient crater diameter'/
	 &'   is known, enter zero (0.0) here)................. ',$)
 1500 format(/
     &'  enter the final crater diameter in km............. ',$)
 1000 format(/
     &'Projectile descriptors:'//
     &'  enter the projectile density in kg/m^3............ ',$)
 2000 format(
     &'  enter the projectile diameter in m................ ',$)
 3000 format(/
     &'Impact conditions:'//
     &'  enter the impact velocity in km/sec............... ',$)
 4000 format(
     &'  enter the impact angle in degrees................. ',$)
 5000 format(/
     &'Target descriptors:'//
     &'  enter the target density in kg/m^3................ ',$)
 6000 format(
     &'  enter the acceleration of gravity in m/sec^2...... ',$)
 7000 format(
     &'  enter the target type, (1-3):'/
     &'    type 1 = liquid water'/
     &'    type 2 = loose sand  '/
     &'    type 3 = competent rock or saturated soil....... ',$)
 7010 format(//'target type must be 1, 2 or 3.  try again!'//)
 8000 format(//'Three scaling laws yield the following *transient*',
     &' crater diameters:'/
     &'  (note that diameters are measured at the pre-impact surface.'/
     &'   Rim-to-rim diameters are about 1.25X larger!)'//,
     &' Yield Scaling                       Dyield   = ',1pe10.2,' m'/
     &' Pi Scaling    (Preferred method!)   Dpiscale = ',1pe10.2,' m'/
     &' Gault Scaling                       Dgault   = ',1pe10.2,' m'//
     &' Crater Formation Time               Tform    = ',1pe10.2,' sec'
     & //)
 8100 format(
     &'Using the Pi-scaled transient crater, the *final* crater has'/
	 &'rim-to-rim diameter=',1pe10.2,' km, and is of type: ',a14//)
 8500 format(//'Three scaling laws yield the following projectile',
     &' diameters:'/
     &'  (note that diameters assume a spherical projectile)'//
     &' Yield Scaling                       Lyield   = ',1pe10.2,' m'/
     &' Pi Scaling    (Preferred method!)   Lpiscale = ',1pe10.2,' m'/
     &' Gault Scaling                       Lgault   = ',1pe10.2,' m'//
     &' Crater Formation Time               Tform    = ',1pe10.2,' sec'
     & //)
 9000 format('Do you want to make another calculation (y/n)?......',$)
 9500 format('unrecognized computation type = ',i5,
     &' (should be either 1 or 2)')
      end
</pre>
</div>

<div id="tabs-4">
  <p>Original Source for cCalc003Crater - H J Melosh, Ross A Beyer </p>
  <p>&nbsp;</p>
</div>

</div>
</div>
<br/>

<!-- ************************* Footer **************************************** -->
<footer>
  <table>
    <tr>
      <td style="width:25%">
		<script>
        <!-- //hide script from old browsers
        document.write( "Last updated "+ document.lastModified );
        //end hiding contents -->
        </script>
      </td>
      <td style="width:50%"></td>
      <td style="width:25%">cCalc003Crater</td>
    </tr>
  </table>
</footer>

</body>
</html>